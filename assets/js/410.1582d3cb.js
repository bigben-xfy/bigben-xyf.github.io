(window.webpackJsonp=window.webpackJsonp||[]).push([[410],{933:function(s,t,a){"use strict";a.r(t);var r={methods:{showConfirm:function(){for(var s=this,t=this,a=0;a<3;a+=1)setTimeout((function(){s.$confirm({content:"destroy all",onOk:function(){return new Promise((function(s,t){setTimeout(Math.random()>.5?s:t,1e3)})).catch((function(){return console.log("Oops errors!")}))},cancelText:"Click to destroy all",onCancel:function(){t.destroyAll()}})}),500*a)},destroyAll:function(){this.$destroyAll()}}},n=a(92),e=Object(n.a)(r,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[[a("demo-box-code",{attrs:{title:"销毁确认对话框",usTitle:"destroy confirmation modal dialog"}},[a("template",{slot:"demo"},[a("a-button",{on:{click:s.showConfirm}},[s._v("\n    Confirm\n  ")])],1),s._v(" "),a("template",{slot:"description"},[a("p",[s._v("使用 "),a("code",{pre:!0},[s._v("Modal.destroyAll()")]),s._v(" 可以销毁弹出的确认窗。通常用于路由监听当中，处理路由前进、后退不能销毁确认对话框的问题。")])]),s._v(" "),a("template",{slot:"code"},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"showConfirm"')]),s._v(">")]),s._v("\n    Confirm\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-button")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"javascript"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//import Button from '../../button';")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n      showConfirm() {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" self = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("; i += "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n          setTimeout("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$confirm({\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'destroy all'")]),s._v(",\n              onOk() {\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Promise")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("resolve, reject")]),s._v(") =>")]),s._v(" {\n                  setTimeout("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random() > "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(" ? resolve : reject, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(");\n                }).catch("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Oops errors!'")]),s._v("));\n              },\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cancelText")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Click to destroy all'")]),s._v(",\n              onCancel() {\n                self.destroyAll();\n              },\n            });\n          }, i * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v(");\n        }\n      },\n      destroyAll() {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$destroyAll();\n      },\n    },\n  };\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])],2)]],2)}),[],!1,null,null,null);t.default=e.exports}}]);