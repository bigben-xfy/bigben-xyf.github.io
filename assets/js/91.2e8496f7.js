(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1035:function(s,t,a){"use strict";a.r(t);var n=a(594),r={data:function(){return{fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"http://www.baidu.com/xxx.png"}]}},methods:{handleChange:function(s){var t=Object(n.a)(s.fileList);t=(t=t.slice(-2)).map((function(s){return s.response&&(s.url=s.response.url),s})),this.fileList=t}}},e=a(92),l=Object(e.a)(r,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[[a("demo-box-code",{attrs:{title:"完全控制的上传列表",usTitle:"Complete control over file list"}},[a("template",{slot:"demo"},[a("a-upload",{attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",multiple:!0,fileList:s.fileList},on:{change:s.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),s._v(" Upload ")],1)],1)],1),s._v(" "),a("template",{slot:"description"},[a("p",[s._v("使用 "),a("code",{pre:!0},[s._v("fileList")]),s._v(" 对列表进行完全控制，可以实现各种自定义功能，以下演示三种情况：")])]),s._v(" "),a("template",{slot:"code"},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-upload")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://www.mocky.io/v2/5cc8019d300000980a055e76"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":multiple")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"true"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":fileList")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fileList"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleChange"')]),s._v("\n  >")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-button")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-icon")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"upload"')]),s._v(" />")]),s._v(" Upload "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-button")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a-upload")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"javascript"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fileList")]),s._v(": [\n          {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("uid")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'-1'")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xxx.png'")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("status")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'done'")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://www.baidu.com/xxx.png'")]),s._v(",\n          },\n        ],\n      };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n      handleChange(info) {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" fileList = [...info.fileList];\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1. Limit the number of uploaded files")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//    Only to show two recent uploaded files, and old ones will be replaced by the new")]),s._v("\n        fileList = fileList.slice("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-2")]),s._v(");\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 2. read from response and show file link")]),s._v("\n        fileList = fileList.map("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("file")]),s._v(" =>")]),s._v(" {\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (file.response) {\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Component will show file.url as link")]),s._v("\n            file.url = file.response.url;\n          }\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" file;\n        });\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".fileList = fileList;\n      },\n    },\n  };\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])],2)]],2)}),[],!1,null,null,null);t.default=l.exports},594:function(s,t,a){"use strict";var n=a(599),r=a.n(n);var e=a(608),l=a.n(e),p=a(602),v=a.n(p);function i(s){return function(s){if(r()(s)){for(var t=0,a=new Array(s.length);t<s.length;t++)a[t]=s[t];return a}}(s)||function(s){if(v()(Object(s))||"[object Arguments]"===Object.prototype.toString.call(s))return l()(s)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",(function(){return i}))},599:function(s,t,a){s.exports=a(600)},600:function(s,t,a){a(601),s.exports=a(44).Array.isArray},601:function(s,t,a){var n=a(86);n(n.S,"Array",{isArray:a(369)})},602:function(s,t,a){s.exports=a(370)},608:function(s,t,a){s.exports=a(371)}}]);