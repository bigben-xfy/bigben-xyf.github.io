(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-composition-index"],{"0453":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.ta-summary[data-v-20344248]{padding:0 %?64?%}.ta-summary .ta-summary-close[data-v-20344248]{position:absolute;right:%?24?%;top:%?24?%;width:%?48?%;height:%?48?%}.ta-summary .ta-summary-close[data-v-20344248]:before{margin:0;content:"\\2716";color:rgba(0,0,0,.45)}.ta-summary .ta-summary-title[data-v-20344248]{font-size:%?32?%;font-family:PingFangSC-Semibold;font-weight:600;color:rgba(0,0,0,.85);line-height:%?42?%;text-align:center}.ta-summary .ta-summary-score[data-v-20344248]{margin-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ta-summary .ta-summary-score-text[data-v-20344248]{vertical-align:middle;height:%?40?%;font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;color:#bbbdc4;line-height:%?40?%;margin-right:%?34?%}.ta-summary .ta-summary-line[data-v-20344248]{margin-top:%?32?%;width:%?542?%;height:%?2?%;background:#e8e8e8}.ta-summary .ta-summary-details[data-v-20344248]{margin-top:%?16?%;margin-bottom:%?16?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-align-content:flex-start;align-content:flex-start}.ta-summary .ta-summary-details .ta-summary-details-item[data-v-20344248]{margin:%?12?%;width:%?88?%}.ta-summary .ta-summary-details .ta-summary-details-item .ta-summary-details-item-score[data-v-20344248]{width:%?88?%;height:4u0px;background:#31c37c;box-shadow:0 %?4?% %?16?% 0 rgba(49,195,124,.35);border-radius:%?20?%;text-align:center;font-size:%?28?%;font-family:PingFangSC-Semibold;font-weight:400;color:#fff;line-height:%?40?%}.ta-summary .ta-summary-details .ta-summary-details-item .ta-summary-details-item-placeholder[data-v-20344248]{margin-top:%?16?%;margin-bottom:%?16?%;width:%?12?%;height:%?96?%;margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ta-summary .ta-summary-details .ta-summary-details-item .ta-summary-details-item-placeholder .ta-summary-details-item-background[data-v-20344248]{width:%?12?%;height:%?96?%;background:rgba(96,172,252,.1);border-radius:%?8?%}.ta-summary .ta-summary-details .ta-summary-details-item .ta-summary-details-item-placeholder .ta-summary-details-item-percent[data-v-20344248]{position:absolute;bottom:0;width:%?12?%;background:rgba(29,104,218,.9);border-radius:%?8?%}.ta-summary .ta-summary-details .ta-summary-details-item .ta-summary-details-item-type[data-v-20344248]{text-align:center;height:%?34?%;font-size:%?24?%;font-family:PingFangSC-Semibold;font-weight:600;color:rgba(0,0,0,.85);line-height:%?34?%}.ta-summary .ta-summary-comment[data-v-20344248]{font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;color:#777a89;line-height:%?40?%;margin-bottom:%?48?%}',""])},"079d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"issue-card"},[a("v-uni-view",{staticClass:"issue-card-type"},[a("v-uni-view",{staticClass:"issue-card-type-color",class:t.metricToBeShown.issueType}),a("v-uni-text",{staticClass:"issue-card-type-text"},[t._v(t._s(t.issueTypeName)+" "+t._s(t.metricToBeShown.type))])],1),a("v-uni-view",{staticClass:"issue-card-hint"},[a("v-uni-text",{staticClass:"issue-card-hint-content"},[t._v(t._s(t.metricToBeShown.hint))])],1)],1)},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},"0f75":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".ta-issues-noissue[data-v-74ef4562]{margin:%?32?%;margin-top:%?16?%;width:%?686?%;height:%?280?%;background:#fff;box-shadow:0 %?4?% %?16?% 0 rgba(96,101,123,.12);border-radius:%?16?%;padding:%?32?%;padding-top:%?24?%;vertical-align:middle}.ta-issues-noissue .ta-issues-noissue-pic[data-v-74ef4562]{margin-left:%?240?%;margin-top:%?60?%;width:%?140?%;height:%?120?%;text-align:center}.ta-issues[data-v-74ef4562]{height:%?340?%}.ta-issues .ta-issues-cards[data-v-74ef4562]{height:%?340?%}.ta-issues .ta-issues-cards .swiper[data-v-74ef4562]{height:%?320?%}.ta-issues .ta-issues-cards .swiper .swiper-box[data-v-74ef4562]{height:%?320?%}.ta-issues .ta-issues-cards .swiper .swiper-box .swiper-item[data-v-74ef4562]{background:#fff;box-shadow:0 4px 16px 0 rgba(96,101,123,.12);border-radius:16px}",""])},1087:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6"),a("ac6a"),a("96cf");var r=i(a("3b8d")),n=i(a("d225")),s=i(a("b0b4")),o=i(a("308d")),u=i(a("6bb5")),c=i(a("4e2b")),d=a("9ab4"),l=a("60a3"),f=a("2216"),h=i(a("7c80")),m=i(a("1160")),v=i(a("8dbf")),g=i(a("cd6c")),p=i(a("76d9")),y=i(a("42e0")),w=i(a("667a")),b=i(a("580d")),x=(v.default.getUserService(),g.default.getHomeworkService()),k=function(t){function e(){var t;return(0,n.default)(this,e),t=(0,o.default)(this,(0,u.default)(e).apply(this,arguments)),t.isShowSummary=!1,t.isShowWordFrequency=!1,t.scoring={},t.wordStatistics={},t.dmid="",t.assignmentId="",t.errorNum=0,t.highlightNum=0,t}return(0,c.default)(e,t),(0,s.default)(e,[{key:"queryList",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>1&&void 0!==i[1]&&i[1],!a&&(0,f.showLoading)(),t.next=4,x.queryHomeworkNew(e);case 4:t.sent,!a&&(0,f.hideLoading)();case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"countErrorAndHighlightAmount",value:function(){var t=this;this.errorNum=0,this.highlightNum=0,this.$store.state.essay.metricsOfEssay.forEach((function(e){e.issueType&&"highlight"===e.issueType?t.highlightNum+=1:t.errorNum+=1}))}},{key:"getCompositionAnlysisResult",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getEssayResult(this.dmid,this.assignmentId);case 3:e=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:if(e.review=[e.review],(0,p.default)(e),this.countErrorAndHighlightAmount(),this.scoring=e.scoring,this.$store.commit("updateScoreInfo",this.scoring),this.wordStatistics=e.word_statistics,this.wordStatistics&&this.wordStatistics.percentage&&this.wordStatistics.percentage.length)for(a in this.wordStatistics.percentage)this.wordStatistics.percentage[a]=Math.round(1e4*this.wordStatistics.percentage[a])/100;case 15:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"onIsShowSummaryChange",value:function(t){t.show!==this.isShowSummary&&(this.isShowSummary=t.show)}},{key:"showSummary",value:function(){this.isShowSummary=!0}},{key:"closeSummary",value:function(){this.isShowSummary=!1}},{key:"onIsShowWordFrequencyChange",value:function(t){t.show!==this.isShowWordFrequency&&(this.isShowWordFrequency=t.show)}},{key:"showWordFrequency",value:function(){this.isShowWordFrequency=!0}},{key:"closeWordFrequency",value:function(){this.isShowWordFrequency=!1}},{key:"onLoad",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.assignmentId,this.dmid=this.userInfo.dmid,this.assignmentId=a,t.next=5,this.getCompositionAnlysisResult();case 5:this.$nextTick((function(){return setTimeout((function(){return i.drawPicture()}),0)}));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"drawPicture",value:function(){var t=this;this.$nextTick((function(){if(t.wordStatistics&&t.wordStatistics.className)for(var e=0;e<t.wordStatistics.className.length;e++){var a="ta-word-freqeuncy-item-graph-canvas-"+e,i=t.wordStatistics.percentage[e];t.drawMain(a,i,"#1D68DA","#E8EFFB","#111")}}))}},{key:"drawInWeb",value:function(t,e,a,i,r){var n=document.getElementById(t);n=n.children[0];var s=n.getContext("2d"),o=50,u=50,c=uni.createSelectorQuery();function d(t,e){s.save(),s.beginPath(),s.lineWidth=2;var a=t-s.lineWidth;s.lineCap="round",s.strokeStyle=i,s.arc(t,e,a,-Math.PI/180*240,Math.PI/180*60,!1),s.stroke(),s.closePath(),s.restore()}function l(t,e,i,r){s.save(),s.strokeStyle=a,s.lineWidth=8,s.lineCap="round";var n=e-(s.lineWidth?s.lineWidth:8);s.beginPath(),s.arc(e,i,n,-Math.PI/180*240,-Math.PI/180*240+t*r,!1),s.stroke(),s.closePath(),s.restore()}c.select(".ta-word-freqeuncy-item-graph").fields({computedStyle:["width","height"]},(function(t){})).exec((function(t){var a=o/2,i=u/2,r=Math.PI/3*5/100;d(a,i),l(e,a,i,r)}))}},{key:"drawMain",value:function(t,e,a,i,r){var n=uni.createCanvasContext(t),s=50,o=50,u=uni.createSelectorQuery();function c(t,e){n.save(),n.beginPath(),n.setLineWidth(8);var a=t-(n.lineWidth?n.lineWidth:8);n.setLineCap("round"),n.setStrokeStyle(i),n.arc(t,e,a,-Math.PI/180*240,Math.PI/180*60,!1),n.stroke(),n.draw(!0),n.closePath(),n.restore()}function d(t,e,i,r){n.save(),n.setStrokeStyle(a),n.setLineWidth(8),n.setLineCap("round");var s=e-(n.lineWidth?n.lineWidth:8);n.arc(e,i,s,-Math.PI/180*240,-Math.PI/180*240+t*r,!1),n.stroke(),n.draw(!0),n.closePath(),n.restore()}u.select(".ta-word-freqeuncy-item-graph").fields({computedStyle:["width","height"]},(function(t){s=t.width&&t.width.indexOf("px")?Number(t.width.substr(0,t.width.length-2)):Number(t.width)||50,o=t.height&&t.height.indexOf("px")?Number(t.height.substr(0,t.height.length-2)):Number(t.height)||50})).exec((function(t){var a=s/2,i=o/2,r=Math.PI/3*5/100;c(a,i),d(e,a,i,r)}))}},{key:"userInfo",get:function(){return this.$store.state.user.userInfo}},{key:"metricsLength",get:function(){return this.$store.state.essay.metricsOfEssay.length}},{key:"theWordOfEssay",get:function(){return this.$store.state.essay.wordOfEssay}}]),e}(l.Vue);k=(0,d.__decorate)([(0,l.Component)({components:{Issues:h.default,Contents:m.default,uniPopup:y.default,TaSummary:w.default,FailedResult:b.default}})],k);var _=k;e.default=_},1160:function(t,e,a){"use strict";a.r(e);var i=a("62dd"),r=a("45cc");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("14fa");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"4cc89e1d",null);e["default"]=o.exports},"148d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"failed"},[a("v-uni-image",{staticClass:"failed-image",attrs:{src:"../../../static/failed.png"}}),a("v-uni-view",{staticClass:"failed-text"},[t._v("识别失败")])],1)},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},"14fa":function(t,e,a){"use strict";var i=a("7d34"),r=a.n(i);r.a},"20c8":function(t,e,a){"use strict";a.r(e);var i=a("a895"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"24c0":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var i={name:"UniSwiperDot",props:{info:{type:Array,default:function(){return[]}},current:{type:Number,default:0},dotsStyles:{type:Object,default:function(){return{}}},mode:{type:String,default:"default"},field:{type:String,default:""}},data:function(){return{dots:{width:8,height:8,bottom:10,color:"#fff",backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",selectedBackgroundColor:"#333",selectedBorder:"1px rgba(0, 0, 0, .9) solid"}}},watch:{dotsStyles:function(t){this.dots=Object.assign(this.dots,this.dotsStyles)},mode:function(t){"indexes"===t?(this.dots.width=20,this.dots.height=20):(this.dots.width=8,this.dots.height=8)}},created:function(){"indexes"===this.mode&&(this.dots.width=20,this.dots.height=20),this.dots=Object.assign(this.dots,this.dotsStyles)}};e.default=i},"27f3":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.analysis[data-v-4249780c]{position:relative;height:100%}.analysis-composition[data-v-4249780c]{position:absolute;top:0;bottom:%?432?%}.analysis-issue[data-v-4249780c]{width:%?750?%;height:%?340?%;background-color:#fff;position:absolute;bottom:%?104?%}.analysis-bottom[data-v-4249780c]{width:%?750?%;height:%?72?%;background-color:#fff;position:absolute;bottom:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?8?%;padding-bottom:%?8?%}.analysis-bottom .analysis-summary[data-v-4249780c]{position:absolute;margin-left:%?32?%;width:%?56?%;height:%?56?%;background:#fff;box-shadow:0 %?4?% %?16?% 0 rgba(96,101,123,.12);border-radius:50%}.analysis-bottom .analysis-summary .analysis-summary-icon[data-v-4249780c]{margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);line-height:%?56?%;vertical-align:middle;width:%?32?%;height:%?32?%}.analysis-bottom .analysis-word-frequency[data-v-4249780c]{position:absolute;margin-left:%?122?%;width:%?56?%;height:%?56?%;background:#fff;box-shadow:0 %?4?% %?16?% 0 rgba(96,101,123,.12);border-radius:50%}.analysis-bottom .analysis-word-frequency .analysis-word-frequency-icon[data-v-4249780c]{margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);line-height:%?56?%;vertical-align:middle;width:%?32?%;height:%?32?%}.analysis-bottom .analysis-counter[data-v-4249780c]{max-width:%?375?%;height:%?56?%;margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);overflow:hidden}.analysis-bottom .analysis-counter .analysis-counter-text[data-v-4249780c]{vertical-align:middle;font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;color:#777a89;line-height:%?40?%}.ta-word-frequency[data-v-4249780c]{padding:0 %?64?%}.ta-word-frequency .ta-word-frequency-close[data-v-4249780c]{position:absolute;right:%?24?%;top:%?24?%;width:%?48?%;height:%?48?%}.ta-word-frequency .ta-word-frequency-close[data-v-4249780c]:before{margin:0;content:"\\2716";color:rgba(0,0,0,.45)}.ta-word-frequency .ta-word-frequency-title[data-v-4249780c]{font-size:%?32?%;font-family:PingFangSC-Semibold;font-weight:600;color:rgba(0,0,0,.85);line-height:%?42?%;text-align:center}.ta-word-frequency .ta-word-frequency-comment[data-v-4249780c]{font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;color:#777a89;line-height:%?40?%;margin-bottom:%?48?%}.ta-word-frequency .ta-word-frequency-main[data-v-4249780c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-align-content:flex-start;align-content:flex-start}.ta-word-frequency .ta-word-frequency-main .ta-word-freqeuncy-item[data-v-4249780c]{padding:%?20?%;width:%?140?%;height:%?200?%}.ta-word-frequency .ta-word-frequency-main .ta-word-freqeuncy-item .ta-word-freqeuncy-item-graph[data-v-4249780c]{height:%?100?%;width:%?100?%}.ta-word-frequency .ta-word-frequency-main .ta-word-freqeuncy-item .ta-word-freqeuncy-item-graph .ta-word-freqeuncy-item-graph-canvas[data-v-4249780c]{height:%?100?%;width:%?100?%}.ta-word-frequency .ta-word-frequency-main .ta-word-freqeuncy-item .ta-word-freqeuncy-item-percent[data-v-4249780c]{height:%?40?%;background:#31c37c;box-shadow:0 %?4?% %?16?% 0 rgba(49,195,124,.35);border-radius:%?20?%;font-size:%?28?%;font-family:PingFangSC-Semibold;font-weight:400;color:#fff;line-height:%?40?%;text-align:center}.ta-word-frequency .ta-word-frequency-main .ta-word-freqeuncy-item .ta-word-freqeuncy-item-class[data-v-4249780c]{height:%?34?%;font-size:%?24?%;font-family:PingFangSC-Regular;font-weight:400;color:#777a89;line-height:%?34?%;text-align:center}',""])},"2b95":function(t,e,a){"use strict";a.r(e);var i=a("8add"),r=a("b4e7");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("3657");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"4249780c",null);e["default"]=o.exports},"2da8":function(t,e,a){var i=a("0f75");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("12a540aa",i,!0,{sourceMap:!1,shadowMode:!1})},"2f45":function(t,e,a){"use strict";a.r(e);var i=a("079d"),r=a("cd95");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("d8ab");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"91fa8858",null);e["default"]=o.exports},3657:function(t,e,a){"use strict";var i=a("b459"),r=a.n(i);r.a},"39f5":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("d225")),n=i(a("b0b4")),s=i(a("308d")),o=i(a("6bb5")),u=i(a("4e2b")),c=a("9ab4"),d=a("60a3"),l=function(t){function e(){return(0,r.default)(this,e),(0,s.default)(this,(0,o.default)(e).apply(this,arguments))}return(0,u.default)(e,t),(0,n.default)(e,[{key:"mounted",value:function(){}}]),e}(d.Vue);l=(0,c.__decorate)([(0,d.Component)({components:{}})],l);var f=l;e.default=f},"3e95":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var r=i(a("3b8d")),n=i(a("d225")),s=i(a("b0b4")),o=function(){function t(){(0,n.default)(this,t),this.word=[],this.analysis=[]}return(0,s.default)(t,[{key:"classAll",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.word=[],this.analysis=[];case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"formatWord",value:function(t){while(this.word.length<=t[0])this.word.push([]);while(this.word[t[0]].length<=t[1])this.word[t[0]].push([]);while(this.word[t[0]][t[1]].length<=t[2])this.word[t[0]][t[1]].push({})}},{key:"formatAnalysis",value:function(t){while(this.analysis.length<=t[0])this.analysis.push([]);while(this.analysis[t[0]].length<=t[1])this.analysis[t[0]].push({});this.analysis[t[0]][t[1]][t[2]]||(this.analysis[t[0]][t[1]][t[2]]=[]);while(this.analysis[t[0]][t[1]][t[2]].length<=t[3])this.analysis[t[0]][t[1]][t[2]].push({})}},{key:"subscribeOneWord",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.formatWord(e),this.word[e[0]][e[1]][e[2]][e[3]]=a;case 2:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"publishOneWord",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.word[e[0]][e[1]][e[2]][e[3]](a);case 1:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"subscribeOneAnalysis",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.formatAnalysis(e),this.analysis[e[0]][e[1]][e[2]][e[3]]=a;case 2:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"publishOneAnalysis",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.analysis[e[0]][e[1]][e[2]][e[3]](a);case 1:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()}],[{key:"getPublishSubscribe",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}(),u=o;e.default=u},"45cc":function(t,e,a){"use strict";a.r(e);var i=a("5523"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"46ab":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".composition-content[data-v-4cc89e1d]{height:100%;width:%?750?%;position:relative;font-size:%?32?%;font-family:PingFangSC-Regular;font-weight:400;color:rgba(0,0,0,.85);line-height:%?64?%}.composition-content .composition-content-i[data-v-4cc89e1d]{padding:%?32?%;word-break:break-all}.composition-content .composition-content-i .composition-content-j[data-v-4cc89e1d]{display:inline}.composition-content .composition-content-i .composition-content-j .composition-content-k[data-v-4cc89e1d]{display:inline}.ta-essay-word-misspelling[data-v-4cc89e1d]{background:rgba(254,62,60,.1);color:#fe3e3c;border-radius:%?4?%;text-decoration:underline;-webkit-text-decoration-color:#fe3e3c;text-decoration-color:#fe3e3c}.ta-essay-word-misspelling-active[data-v-4cc89e1d]{color:#fe3e3c;background-color:rgba(254,62,60,.1)}.ta-essay-word-highlight[data-v-4cc89e1d]{background:rgba(49,195,124,.1);color:#31c37c;border-radius:%?4?%;text-decoration:underline;-webkit-text-decoration-color:#31c37c;text-decoration-color:#31c37c}.ta-essay-word-highlight-active[data-v-4cc89e1d]{color:#31c37c;background-color:rgba(49,195,124,.1)}.ta-essay-word-grammar[data-v-4cc89e1d]{background:rgba(102,152,255,.1);color:#6698ff;border-radius:%?4?%;text-decoration:underline;-webkit-text-decoration-color:#6698ff;text-decoration-color:#6698ff}.ta-essay-word-grammar-active[data-v-4cc89e1d]{color:#6698ff;background-color:rgba(102,152,255,.1)}",""])},"48b1":function(t,e,a){"use strict";a.r(e);var i=a("848a"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"4c81":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"ta-summary"},[a("v-uni-view",{staticClass:"ta-summary-close",on:{click:function(e){e=t.$handleEvent(e),t.close(e)}}}),a("v-uni-view",{staticClass:"ta-summary-title"},[t._v("多维度评分")]),a("v-uni-view",{staticClass:"ta-summary-score"},[a("v-uni-text",{staticClass:"ta-summary-score-text"},[t._v("作文总得分")]),a("score-star",{attrs:{score:t.totalScore}})],1),a("v-uni-view",{staticClass:"ta-summary-line"}),t.scoring?a("v-uni-view",{staticClass:"ta-summary-details"},t._l(t.types,(function(e,i){return a("v-uni-view",{key:e,staticClass:"ta-summary-details-item"},[a("v-uni-view",{staticClass:"ta-summary-details-item-score"},[t._v(t._s(t.scoring[e].score))]),a("v-uni-view",{staticClass:"ta-summary-details-item-placeholder"},[a("v-uni-view",{staticClass:"ta-summary-details-item-percent",style:{height:t.typeScoreHeight[i]}}),a("v-uni-view",{staticClass:"ta-summary-details-item-background"})],1),a("v-uni-view",{staticClass:"ta-summary-details-item-type"},[t._v(t._s(t.summaryType[e]))])],1)})),1):t._e(),a("v-uni-view",{staticClass:"ta-summary-comment"},[t.scoring&&t.scoring.holistic?a("v-uni-text",[t._v(t._s(t.scoring.holistic.hint))]):a("v-uni-text",[t._v("无评价数据")])],1)],1)},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},"4dc4":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"ta-issues"},[a("v-uni-view",{staticClass:"ta-issues-cards"},[a("uni-swiper-dot",{staticClass:"swiper",attrs:{"indicator-dots":t.indicatorDots,autoplay:t.autoplay,interval:t.interval,duration:t.duration,current:t.currentIndex,info:t.theMetric,mode:"round",dotsStyles:t.dotsStyles}},[a("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.currentIndex},on:{change:function(e){e=t.$handleEvent(e),t.change(e)}}},[t.theMetric&&t.theMetric.length?t._l(t.theMetric,(function(t,e){return a("v-uni-swiper-item",{key:e,attrs:{"item-id":String(e)}},[a("issues-card",{staticClass:"swiper-item",attrs:{theMetric:t}})],1)})):a("v-uni-swiper-item",[a("v-uni-view",{staticClass:"ta-issues-noissue"},[a("v-uni-image",{staticClass:"ta-issues-noissue-pic",attrs:{src:"../../../static/goodJob.png"}})],1)],1)],2)],1)],1)],1)},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},5523:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var r=i(a("d225")),n=i(a("b0b4")),s=i(a("308d")),o=i(a("6bb5")),u=i(a("4e2b")),c=a("9ab4"),d=a("60a3"),l=i(a("3e95")),f=(l.default.getPublishSubscribe(),function(t){function e(){var t;return(0,r.default)(this,e),t=(0,s.default)(this,(0,o.default)(e).apply(this,arguments)),t.oldScrollTopValue=0,t.scrollTop=0,t}return(0,u.default)(e,t),(0,n.default)(e,[{key:"onScroll",value:function(t){this.oldScrollTopValue=t.detail.scrollTop}},{key:"onActiveIssueIndexChange",value:function(t){var e=this,a=this.$store.state.essay.metricsOfEssay[t];if(a.essayIndex&&3===a.essayIndex.length)a.essayIndex[0],a.essayIndex[1],a.essayIndex[2][0],uni.createSelectorQuery().in(this).selectAll(".the-essay-words").boundingClientRect().select(".composition-content").boundingClientRect().exec((function(t){uni.getSystemInfo({success:function(i){var r=uni.upx2px(432);t[0]&&t[0][a.unifiedEssayIndex]&&t[0][a.unifiedEssayIndex].height&&(t[0][a.unifiedEssayIndex].top>=0&&t[0][a.unifiedEssayIndex].bottom<=i.windowHeight-r||(t[0][a.unifiedEssayIndex].top<0?e.$nextTick((function(){e.scrollTop=e.oldScrollTopValue+t[0][a.unifiedEssayIndex].top})):e.$nextTick((function(){e.scrollTop=e.oldScrollTopValue+10+t[0][a.unifiedEssayIndex].bottom-(i.windowHeight-r)}))))}})}))}},{key:"getWordClass",value:function(t){return{"ta-essay-word-normal":0===t.typeCount,"ta-essay-word-misspelling":0===t.type.misspelling,"ta-essay-word-misspelling-active":t.type.misspelling>0,"ta-essay-word-highlight":0===t.type.highlight,"ta-essay-word-highlight-active":1===t.type.highlight,"ta-essay-word-grammar":0===t.type.grammar_error,"ta-essay-word-grammar-active":1===t.type.grammar_error}}},{key:"handleTheWordClick",value:function(t,e){if(0!==e.typeCount){var a=0;for(var i in e.issueIndex)-1!=e.issueIndex[i]&&(a=Number(e.issueIndex[i]));this.$store.commit("updateTheActiveIssueIndex",a)}}},{key:"mounted",value:function(){}},{key:"essayWord",get:function(){return this.$store.state.essay.wordOfEssay}}]),e}(d.Vue));(0,c.__decorate)([(0,d.Watch)("$store.state.essay.activeIssueIndex")],f.prototype,"onActiveIssueIndexChange",null),f=(0,c.__decorate)([(0,d.Component)({components:{}})],f);var h=f;e.default=h},"580d":function(t,e,a){"use strict";a.r(e);var i=a("148d"),r=a("6c8d");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("cf76");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"92af5f40",null);e["default"]=o.exports},"5a10":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".uni-swiper__warp[data-v-7e59de65]{position:relative;width:100%;box-sizing:border-box;overflow:hidden}.uni-swiper__dots-box[data-v-7e59de65]{position:absolute;bottom:%?20?%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;box-sizing:box-sizing;width:100%}.uni-swiper__dots-item[data-v-7e59de65]{-webkit-flex-shrink:0;flex-shrink:0;width:%?16?%;border-radius:50%;margin-left:%?12?%;background:rgba(0,0,0,.3);transition:all .2s linear}.uni-swiper__dots-item[data-v-7e59de65]:first-child{margin:0}.uni-swiper__dots-default[data-v-7e59de65]{border-radius:50%}.uni-swiper__dots-long[data-v-7e59de65]{border-radius:%?100?%}.uni-swiper__dots-bar[data-v-7e59de65]{border-radius:%?100?%}.uni-swiper__dots-nav[data-v-7e59de65]{bottom:0;height:%?80?%;-webkit-justify-content:flex-start;justify-content:flex-start;background:rgba(0,0,0,.2);box-sizing:box-sizing;overflow:hidden}.uni-swiper__dots-nav-item[data-v-7e59de65]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:%?28?%;color:#fff;box-sizing:box-sizing;margin:0 %?30?%}.uni-swiper__dots-indexes[data-v-7e59de65]{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;color:#fff;font-size:%?24?%}",""])},"62dd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-scroll-view",{staticClass:"composition-content",attrs:{"scroll-y":!0,"scroll-with-animation":!0,"scroll-top":t.scrollTop},on:{scroll:function(e){e=t.$handleEvent(e),t.onScroll(e)}}},t._l(t.essayWord,(function(e,i){return a("v-uni-view",{key:i,staticClass:"composition-content-i",attrs:{"scroll-top":t.scrollTop}},t._l(e,(function(e,r){return a("v-uni-view",{key:r,staticClass:"composition-content-j",attrs:{decode:!0}},t._l(e,(function(e,n){return a("v-uni-text",{key:n,ref:i+"-"+r+"-"+n,refInFor:!0,staticClass:"composition-content-k the-essay-words",class:{"ta-essay-word-normal":0===e.typeCount,"ta-essay-word-misspelling":0===e.type.misspelling,"ta-essay-word-misspelling-active":e.type.misspelling>0,"ta-essay-word-highlight":0===e.type.highlight,"ta-essay-word-highlight-active":1===e.type.highlight,"ta-essay-word-grammar":0===e.type.grammar_error,"ta-essay-word-grammar-active":1===e.type.grammar_error},attrs:{decode:!0},on:{click:function(a){a=t.$handleEvent(a),t.handleTheWordClick([i,r,n],e)}}},[t._v(t._s(e.raw+" "))])})),1)})),1)})),1)},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},"667a":function(t,e,a){"use strict";a.r(e);var i=a("4c81"),r=a("20c8");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("7635");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"20344248",null);e["default"]=o.exports},"6c8d":function(t,e,a){"use strict";a.r(e);var i=a("39f5"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},7635:function(t,e,a){"use strict";var i=a("e995"),r=a.n(i);r.a},"76d9":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac6a");var r=i(a("0613")),n=i(a("3e95"));n.default.getPublishSubscribe();function s(t){r.default.commit("classAllEssayData");var e=0,a=0,i=0,n=0;for(var s in t.review){if(t.review[s])for(var o in i=0,t.review[s]){if(t.review[s][o]){for(var u in n=0,t.review[s][o].tokens)r.default.commit("updateTheWordOfEssay",{data:{raw:t.review[s][o].tokens[u],unifiedEssayIndex:e},idx:[a,i,n]}),n+=1,e+=1;var c=function(e){if("tokens"===e)return"continue";var n=[];if("misspelling"===e)n=t.review[s][o][e];else for(var u in t.review[s][o][e])t.review[s][o][e][u].length&&n.push.apply(n,t.review[s][o][e][u]);if(0===n.length)return"continue";for(var c in n)n[c].isActive=0,n[c].essayIndex=[a,i,n[c].index],n[c].issueType=e,n[c].index.length&&n[c].index.forEach((function(t){r.default.commit("updateTheWordOfEssay",{theTypeNeedAdd:e,idx:[a,i,t]})})),r.default.commit("addOneMetric",n[c])};for(var d in t.review[s][o])c(d)}i+=1}a+=1}r.default.commit("sortTheMetrics"),r.default.commit("generateIssueIndex"),r.default.state.essay.metricsOfEssay.length&&r.default.commit("updateTheActiveIssueIndex",0)}var o=s;e.default=o},"774d":function(t,e,a){var i=a("f56a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("7af97525",i,!0,{sourceMap:!1,shadowMode:!1})},"7b06":function(t,e,a){var i=a("9502");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("09800e0c",i,!0,{sourceMap:!1,shadowMode:!1})},"7c80":function(t,e,a){"use strict";a.r(e);var i=a("4dc4"),r=a("48b1");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("ff82");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"74ef4562",null);e["default"]=o.exports},"7d34":function(t,e,a){var i=a("46ab");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("5718c8b2",i,!0,{sourceMap:!1,shadowMode:!1})},"848a":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("d225")),n=i(a("b0b4")),s=i(a("308d")),o=i(a("6bb5")),u=i(a("4e2b")),c=a("9ab4"),d=a("60a3"),l=i(a("2f45")),f=i(a("e6a0")),h=function(t){function e(){var t;return(0,r.default)(this,e),t=(0,s.default)(this,(0,o.default)(e).apply(this,arguments)),t.indicatorDots=!0,t.autoplay=!1,t.interval=2e3,t.duration=500,t.theShownMetric={},t.dotsStyles={width:2,height:2,bottom:0,backgroundColor:"rgba(115,118,135,0.3)",border:"none",selectedBackgroundColor:"rgba(115,118,135,1)",selectedBorder:"none"},t.currentIndex=0,t}return(0,u.default)(e,t),(0,n.default)(e,[{key:"onActiveIssueIndexChange",value:function(t){t>=0&&t<=this.theMetric.length&&(this.theShownMetric=this.theMetric[t],this.currentIndex=t)}},{key:"change",value:function(t){this.$store.commit("updateTheActiveIssueIndex",t.detail.current)}},{key:"mounted",value:function(){}},{key:"theMetric",get:function(){try{return this.$store.state.essay.metricsOfEssay||[]}catch(t){return[]}}}]),e}(d.Vue);(0,c.__decorate)([(0,d.Watch)("$store.state.essay.activeIssueIndex")],h.prototype,"onActiveIssueIndexChange",null),h=(0,c.__decorate)([(0,d.Component)({components:{IssuesCard:l.default,UniSwiperDot:f.default}})],h);var m=h;e.default=m},"8add":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.theWordOfEssay&&t.theWordOfEssay.length?a("v-uni-view",{staticClass:"analysis"},[a("v-uni-view",{staticClass:"analysis-composition"},[a("contents")],1),a("v-uni-view",{staticClass:"analysis-issue"},[a("issues")],1),a("v-uni-view",{staticClass:"analysis-bottom"},[a("v-uni-view",{staticClass:"analysis-summary",on:{click:function(e){e=t.$handleEvent(e),t.showSummary(e)}}},[a("v-uni-image",{staticClass:"analysis-summary-icon",attrs:{src:"../../static/analysisSummary.png"}})],1),a("v-uni-view",{staticClass:"analysis-word-frequency",on:{click:function(e){e=t.$handleEvent(e),t.showWordFrequency(e)}}},[a("v-uni-image",{staticClass:"analysis-word-frequency-icon",attrs:{src:"../../static/wordDistribution.png"}})],1),a("v-uni-view",{staticClass:"analysis-counter"},[t.metricsLength?a("v-uni-text",{staticClass:"analysis-counter-text"},[t._v("发现"+t._s(t.errorNum?t.errorNum+"处建议":"")+t._s(t.errorNum&&t.highlightNum?"，":"")+t._s(t.highlightNum?t.highlightNum+"处亮点":""))]):a("v-uni-text",{staticClass:"analysis-counter-text"},[t._v("没有发现错误")])],1)],1),a("uni-popup",{attrs:{type:"bottom",show:t.isShowSummary},on:{change:function(e){e=t.$handleEvent(e),t.onIsShowSummaryChange(e)}}},[a("ta-summary",{on:{close:function(e){e=t.$handleEvent(e)}}})],1),a("uni-popup",{attrs:{type:"bottom",show:t.isShowWordFrequency},on:{change:function(e){e=t.$handleEvent(e),t.onIsShowWordFrequencyChange(e)}}},[a("v-uni-view",{staticClass:"ta-word-frequency"},[a("v-uni-view",{staticClass:"ta-word-frequency-close",on:{click:function(e){e=t.$handleEvent(e),t.closeWordFrequency(e)}}}),a("v-uni-view",{staticClass:"ta-word-frequency-title"},[t._v("词频分布")]),t.wordStatistics.className&&"0"!==t.wordStatistics.className.length?a("v-uni-view",{staticClass:"ta-word-frequency-main"},t._l(t.wordStatistics.className,(function(e,i){return a("v-uni-view",{key:e,staticClass:"ta-word-freqeuncy-item"},[a("v-uni-view",{staticClass:"ta-word-freqeuncy-item-graph",class:"ta-word-freqeuncy-item-graph"+i},[a("v-uni-canvas",{staticClass:"ta-word-freqeuncy-item-graph-canvas",class:"ta-word-freqeuncy-item-graph-canvas-"+i,attrs:{id:"ta-word-freqeuncy-item-graph-canvas-"+i,"canvas-id":"ta-word-freqeuncy-item-graph-canvas-"+i}})],1),a("v-uni-view",{staticClass:"ta-word-freqeuncy-item-percent"},[t._v(t._s(t.wordStatistics.percentage[i])+"%")]),a("v-uni-view",{staticClass:"ta-word-freqeuncy-item-class"},[t._v(t._s(e))])],1)})),1):a("v-uni-view",{staticStyle:{"text-align":"center",margin:"28upx","font-size":"28upx"}},[a("v-uni-text",[t._v("暂无数据")])],1)],1)],1)],1):a("failed-result")},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},"8dbf":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var r=i(a("3b8d")),n=i(a("d225")),s=i(a("b0b4")),o=i(a("79f6")),u=function(){function t(){(0,n.default)(this,t)}return(0,s.default)(t,[{key:"getUser",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.getUser();case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.login(e);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"bindUserInfo",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.bindUserInfo(e);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"querySchool",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.querySchool(e);case 3:return a=t.sent,t.abrupt("return",a.result&&a.result.list||[]);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"queryClass",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.queryClass(e);case 3:return a=t.sent,t.abrupt("return",a.result&&a.result.list||[]);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"queryStudent",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.queryStudent(e);case 3:return a=t.sent,t.abrupt("return",a.data||a);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"bindStudent",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.bindStudent(e);case 3:return a=t.sent,t.abrupt("return",a.data||a);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"unbindStudent",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.unbindStudent(e);case 3:return a=t.sent,t.abrupt("return",a.data||a);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()}],[{key:"getUserService",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}(),c=u;e.default=c},9502:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".failed[data-v-92af5f40]{width:100%;height:100%}.failed-image[data-v-92af5f40]{margin-top:%?424?%;margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?252?%;height:%?208?%}.failed-text[data-v-92af5f40]{margin-left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?120?%;height:%?44?%;font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;color:rgba(0,0,0,.5);line-height:%?44?%}",""])},a7da:function(t,e,a){"use strict";var i=a("f275"),r=a.n(i);r.a},a895:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac6a"),a("456d");var r=i(a("d225")),n=i(a("b0b4")),s=i(a("308d")),o=i(a("6bb5")),u=i(a("4e2b")),c=a("9ab4"),d=a("60a3"),l=i(a("4d66")),f=function(t){function e(){var t;return(0,r.default)(this,e),t=(0,s.default)(this,(0,o.default)(e).apply(this,arguments)),t.scoring={},t.totalScore=0,t.summaryType={holistic:"总分",vocabulary:"词汇",sentence:"句型",discourse:"篇章",content:"内容"},t}return(0,u.default)(e,t),(0,n.default)(e,[{key:"close",value:function(){this.$emit("close")}},{key:"getStarScore",value:function(t){return t<25?.5:t<50?1:t<65?1.5:t<80?2:t<90?2.5:3}},{key:"onScoringChange",value:function(t){this.scoring=t,this.totalScore=this.getStarScore(this.scoring.holistic&&this.scoring.holistic.score||0)}},{key:"mounted",value:function(){}},{key:"types",get:function(){return Object.keys(this.scoring)}},{key:"typeScoreHeight",get:function(){var t=this,e=Object.keys(this.scoring).map((function(e){return uni.upx2px(t.scoring[e].score/100*96)+"px"}));return e}}]),e}(d.Vue);(0,c.__decorate)([(0,d.Prop)({default:function(){}})],f.prototype,"scoringData",void 0),(0,c.__decorate)([(0,d.Watch)("$store.state.essay.scoreInfo",{deep:!0,immediate:!0})],f.prototype,"onScoringChange",null),f=(0,c.__decorate)([(0,d.Component)({components:{ScoreStar:l.default}})],f);var h=f;e.default=h},b041:function(t,e){t.exports=function(t){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},b309:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-swiper__warp"},[t._t("default"),"default"===t.mode?a("v-uni-view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,(function(e,i){return a("v-uni-view",{key:i,staticClass:"uni-swiper__dots-item uni-swiper__dots-bar",style:{width:(i===t.current?2*t.dots.width:t.dots.width)+"px",height:t.dots.width/3+"px","background-color":i!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,"border-radius":"0px"}})})),1):t._e(),"dot"===t.mode?a("v-uni-view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,(function(e,i){return a("v-uni-view",{key:i,staticClass:"uni-swiper__dots-item",style:{width:t.dots.width+"px",height:t.dots.height+"px","background-color":i!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:i!==t.current?t.dots.border:t.dots.selectedBorder}})})),1):t._e(),"round"===t.mode?a("v-uni-view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,(function(e,i){return a("v-uni-view",{key:i,staticClass:"uni-swiper__dots-item ",class:[i===t.current&&"uni-swiper__dots-long"],style:{width:(i===t.current?3*t.dots.width:t.dots.width)+"px",height:t.dots.height+"px","background-color":i!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:i!==t.current?t.dots.border:t.dots.selectedBorder}})})),1):t._e(),"nav"===t.mode?a("v-uni-view",{staticClass:"uni-swiper__dots-box uni-swiper__dots-nav",style:{"background-color":t.dotsStyles.backgroundColor}},[a("v-uni-view",{staticClass:"uni-swiper__dots-nav-item",style:{color:t.dotsStyles.color}},[t._v(t._s(t.current+1+"/"+t.info.length)+"\n        "+t._s(t.info[t.current][t.field]))])],1):t._e(),"indexes"===t.mode?a("v-uni-view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,(function(e,i){return a("v-uni-view",{key:i,staticClass:"uni-swiper__dots-item uni-swiper__dots-indexes",style:{width:t.dots.width+"px",height:t.dots.height+"px",color:i===t.current?t.dots.selectedColor:t.dots.color,"background-color":i!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:i!==t.current?t.dots.border:t.dots.selectedBorder}},[t._v(t._s(i+1))])})),1):t._e()],2)},r=[];a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}))},b459:function(t,e,a){var i=a("27f3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("7362a122",i,!0,{sourceMap:!1,shadowMode:!1})},b4e7:function(t,e,a){"use strict";a.r(e);var i=a("1087"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},cd95:function(t,e,a){"use strict";a.r(e);var i=a("e796"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},cf76:function(t,e,a){"use strict";var i=a("7b06"),r=a.n(i);r.a},d8ab:function(t,e,a){"use strict";var i=a("774d"),r=a.n(i);r.a},e334:function(t,e,a){"use strict";a.r(e);var i=a("24c0"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},e6a0:function(t,e,a){"use strict";a.r(e);var i=a("b309"),r=a("e334");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("a7da");var s=a("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"7e59de65",null);e["default"]=o.exports},e796:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("d225")),n=i(a("b0b4")),s=i(a("308d")),o=i(a("6bb5")),u=i(a("4e2b")),c=a("9ab4"),d=a("60a3"),l=i(a("cd6c")),f=(l.default.getHomeworkService(),function(t){function e(){var t;return(0,r.default)(this,e),t=(0,s.default)(this,(0,o.default)(e).apply(this,arguments)),t.metricToBeShown={},t}return(0,u.default)(e,t),(0,n.default)(e,[{key:"onMetricChange",value:function(t){this.metricToBeShown=t}},{key:"mounted",value:function(){this.metricToBeShown=this.theMetric}},{key:"issueTypeName",get:function(){if(this.metricToBeShown&&this.metricToBeShown.issueType)switch(this.metricToBeShown.issueType){case"grammar_error":return"语法建议";case"misspelling":return"拼写建议";case"highlight":return"亮点";default:return"建议"}return"建议"}}]),e}(d.Vue));(0,c.__decorate)([(0,d.Prop)({default:{}})],f.prototype,"theMetric",void 0),(0,c.__decorate)([(0,d.Watch)("theMetric",{deep:!0,immediate:!0})],f.prototype,"onMetricChange",null),f=(0,c.__decorate)([(0,d.Component)({components:{}})],f);var h=f;e.default=h},e995:function(t,e,a){var i=a("0453");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("218cbc08",i,!0,{sourceMap:!1,shadowMode:!1})},f275:function(t,e,a){var i=a("5a10");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("beaeb618",i,!0,{sourceMap:!1,shadowMode:!1})},f56a:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".issue-card[data-v-91fa8858]{margin:%?32?%;margin-top:%?16?%;width:%?686?%;height:%?280?%;background:#fff;box-shadow:0 %?4?% %?16?% 0 rgba(96,101,123,.12);border-radius:%?16?%;padding:%?32?%;padding-top:%?24?%}.issue-card .issue-card-type[data-v-91fa8858]{height:%?40?%}.issue-card .issue-card-type .issue-card-type-color[data-v-91fa8858]{display:inline-block;width:%?24?%;height:%?24?%;border-radius:%?4?%}.issue-card .issue-card-type .grammar_error[data-v-91fa8858]{background:#6698ff}.issue-card .issue-card-type .misspelling[data-v-91fa8858]{background:#fe3e3c}.issue-card .issue-card-type .highlight[data-v-91fa8858]{background:#31c37c}.issue-card .issue-card-type .issue-card-type-text[data-v-91fa8858]{margin-left:%?16?%;display:inline-block;height:%?40?%;font-size:%?32?%;font-family:PingFangSC-Semibold;font-weight:600;color:rgba(0,0,0,.85);line-height:%?40?%}.issue-card .issue-card-hint[data-v-91fa8858]{margin-top:%?24?%}.issue-card .issue-card-hint .issue-card-hint-content[data-v-91fa8858]{font-size:%?32?%;font-family:PingFangSC-Regular;font-weight:400;color:#777a89;line-height:%?40?%}",""])},ff82:function(t,e,a){"use strict";var i=a("2da8"),r=a.n(i);r.a}}]);